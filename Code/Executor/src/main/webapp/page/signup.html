<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
	<title>注册 | Q-Executor</title>
	<link rel="icon" href="../images/icon.ico">
	<link rel="stylesheet" href="../css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="../css/style.css">
</head>
<body>
<div class="container">
	<div class="row top-padding bottom-padding">
		<div class="page-header text-center">
			<h3>注册</h3>
		</div>
	</div>
	<form id="form">
	<div class="row top-padding bottom-padding">
		<div class="col-xs-12 col-sm-8 col-md-6 col-lg-4 col-sm-offset-2 col-md-offset-3 col-lg-offset-4">
			<input type="email" name="mail" class="form-control" placeholder="邮箱" id="mail">
		</div>
	</div>


	<div class="row top-padding bottom-padding">
		<div class="col-xs-12 col-sm-8 col-md-6 col-lg-4 col-sm-offset-2 col-md-offset-3 col-lg-offset-4">
			<input type="text" name="userName" class="form-control" placeholder="用户名" id="userName" >
		</div>
	</div>

	<div class="row top-padding bottom-padding">
		<div class="col-xs-12 col-sm-8 col-md-6 col-lg-4 col-sm-offset-2 col-md-offset-3 col-lg-offset-4">
			<input type="text" name="nickName" class="form-control" placeholder="昵称" id="nickName">
		</div>
	</div>

	<div class="row top-padding bottom-padding">
		<div class="col-xs-12 col-sm-8 col-md-6 col-lg-4 col-sm-offset-2 col-md-offset-3 col-lg-offset-4">
			<input type="password" name="password" class="form-control" placeholder="密码" id="password">
		</div>
	</div>

	<div class="row top-padding bottom-padding">
		<div class="col-xs-12 col-sm-8 col-md-6 col-lg-4 col-sm-offset-2 col-md-offset-3 col-lg-offset-4">
			<input type="password" class="form-control" placeholder="确认密码" id="confirmPassword">
		</div>
	</div>

	<div class="row top-padding bottom-padding">
		<div class="col-xs-12 col-sm-8 col-md-6 col-lg-4 col-sm-offset-2 col-md-offset-3 col-lg-offset-4">
			<button type="button" class="btn btn-primary btn-block" id="register">注册</button>
		</div>
	</div>
		</form>
</div>
<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script type="text/javascript">
	$('#register').on('click', function () {
		jQuery.ajax({
			url: '/register',
			type: 'post',
			dataType: 'json',
			data: $('#form').serialize(),
			success: function(data) {
//				var result = JSON.parseJSON(data);

				if (data.state == true) {
					handleSuccess(data.info);
				} else {
					handleError(data.info);
				}
			}
		});
	});

	function handleSuccess(info) {
		top.location = '../index.html';
	}

	function handleError(info) {
		alert(info);
	}

	/**
	 * 检查表单
	 */
	function check() {

	}
</script>
</body>
</html>